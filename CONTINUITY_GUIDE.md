# 🔄 دليل ضمان استمرارية منصة المسابقات الرياضية

## ⚠️ **تحذير مهم حول ngrok المجاني:**

### 🚨 **قيود ngrok المجاني:**
- **⏰ مدة الجلسة:** 2 ساعة كحد أقصى
- **🔄 تغيير الرابط:** عند كل إعادة تشغيل
- **📊 عدد الاتصالات:** محدود
- **🌐 النطاق:** عشوائي في كل مرة

### ✅ **الحلول المقترحة:**

---

## 1️⃣ **المتطلبات التقنية الأساسية:**

### **🖥️ متطلبات الجهاز:**
- **💾 ذاكرة RAM:** 4GB كحد أدنى
- **💿 مساحة التخزين:** 10GB متاحة
- **🌐 اتصال إنترنت:** مستقر وسريع
- **⚡ مصدر طاقة:** UPS (مزود طاقة غير منقطعة)
- **🖥️ نظام التشغيل:** Windows 10/11, Linux, macOS

### **📦 البرامج المطلوبة:**
- **🐍 Python 3.7+**
- **🌐 Django 5.2+**
- **🔗 ngrok**
- **📊 مراقب النظام**

---

## 2️⃣ **إعدادات ngrok للثبات:**

### **🔐 حساب ngrok مدفوع (موصى به بشدة):**
```bash
# التسجيل في ngrok Pro/Business
# https://ngrok.com/pricing

# مميزات الحساب المدفوع:
✅ نطاق ثابت مخصص
✅ لا توجد قيود زمنية
✅ عدد اتصالات أكبر
✅ دعم فني
```

### **⚙️ إعداد نطاق ثابت:**
```yaml
# ngrok.yml
version: "2"
authtoken: YOUR_PAID_TOKEN
tunnels:
  math-platform:
    addr: 8000
    proto: http
    hostname: math-competition.your-domain.com
    bind_tls: true
```

---

## 3️⃣ **منع انقطاع الخدمة:**

### **🔄 مراقبة تلقائية:**
- **⏱️ فحص كل 30 ثانية**
- **🔁 إعادة تشغيل تلقائي**
- **📧 تنبيهات عبر البريد**
- **📱 إشعارات فورية**

### **🛡️ آليات الحماية:**
- **🔒 نسخ احتياطية للبيانات**
- **⚡ مصدر طاقة احتياطي**
- **🌐 اتصال إنترنت احتياطي**
- **💾 حفظ تلقائي للحالة**

---

## 4️⃣ **الخطوات الوقائية للتشغيل المستمر:**

### **🖥️ إعدادات النظام:**
```bash
# منع دخول الجهاز في وضع السكون
powercfg -change -standby-timeout-ac 0
powercfg -change -hibernate-timeout-ac 0

# تشغيل تلقائي عند بدء النظام
# إضافة البرنامج لبدء التشغيل
```

### **🔧 مراقبة الموارد:**
- **📊 استخدام المعالج < 80%**
- **💾 استخدام الذاكرة < 80%**
- **💿 مساحة القرص > 20%**
- **🌡️ درجة حرارة النظام**

---

## 5️⃣ **التعامل مع انقطاع الإنترنت:**

### **🔄 إعادة الاتصال التلقائي:**
- **⏱️ محاولة كل 10 ثوان**
- **🔁 إعادة تشغيل ngrok**
- **📱 إرسال تنبيه**
- **💾 حفظ الحالة**

### **🌐 اتصال احتياطي:**
- **📱 هوت سبوت الهاتف**
- **🌐 مزود إنترنت ثاني**
- **📡 اتصال 4G/5G**

---

## 6️⃣ **البدائل في حالة تعطل ngrok:**

### **🔄 خدمات بديلة:**
1. **🌐 Cloudflare Tunnel (مجاني)**
2. **🔗 LocalTunnel**
3. **🌉 Serveo**
4. **🚀 Pagekite**

### **☁️ النشر السحابي:**
1. **🚂 Railway (مجاني محدود)**
2. **🟣 Heroku (مجاني محدود)**
3. **🎨 Render (مجاني محدود)**
4. **⚡ Vercel**

---

## 7️⃣ **إعداد نسخة احتياطية:**

### **🔄 نسخ متعددة:**
- **💻 خادم محلي احتياطي**
- **☁️ نشر سحابي احتياطي**
- **📱 تطبيق محمول**
- **💿 نسخة محمولة**

---

## 🚨 **التحديات الحقيقية مع ngrok المجاني:**

### **❌ المشاكل الحتمية:**
1. **⏰ انقطاع كل ساعتين**
2. **🔄 تغيير الرابط باستمرار**
3. **📊 قيود الاستخدام**
4. **🐌 بطء في الاستجابة**

### **💡 الحلول العملية:**
1. **💳 الترقية لحساب مدفوع ($8/شهر)**
2. **☁️ النشر على منصة سحابية**
3. **🏠 خادم منزلي مع IP ثابت**
4. **🌐 استضافة ويب تقليدية**

---

## 🎯 **التوصيات النهائية:**

### **للاستخدام قصير المدى (أيام):**
✅ ngrok مجاني مع مراقبة يدوية
✅ إعادة تشغيل كل ساعتين
✅ تحديث الرابط للمشاركين

### **للاستخدام طويل المدى (أسابيع/شهور):**
🎯 **الحل الأمثل:** النشر على Railway/Render
🎯 **البديل:** ngrok مدفوع
🎯 **الاحتياطي:** خادم محلي + IP ثابت

### **للاستخدام المؤسسي:**
🏢 **استضافة ويب مدفوعة**
🏢 **خادم مخصص**
🏢 **حلول سحابية متقدمة**

---

## ⚠️ **تنبيه مهم:**

**الرابط الحالي `https://5eba-160-179-206-151.ngrok-free.app` سيتوقف خلال ساعتين كحد أقصى وسيتغير عند إعادة التشغيل.**

**للحصول على رابط ثابت دائم، يجب:**
1. **💳 الترقية لحساب ngrok مدفوع**
2. **☁️ أو النشر على منصة سحابية**
3. **🏠 أو استخدام خادم مع IP ثابت**
